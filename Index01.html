<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine's Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<style>
body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
    height: 100vh;
    overflow: hidden;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding-top: 80px;
    position: relative;
}

h1 {
    font-family: 'Pacifico', cursive;
    font-size: 3em;
    color: #ff1e56;
    margin-bottom: 50px;
    z-index: 10;
    position: relative;
}

.button-container {
    position: relative;
    width: 350px;
    height: 120px;
    margin-bottom: 50px;
    z-index: 10;
}

button {
    padding: 15px 35px;
    font-size: 20px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    position: absolute;
    transition: all 0.01s ease;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    z-index: 10;
}

#yesBtn {
    background-color: #ff1e56;
    color: white;
    left: 50px;
    top: 40px;
}

#noBtn {
    background-color: #fff;
    color: #ff1e56;
    border: 3px solid #ff1e56;
    left: 200px;
    top: 40px;
}

/* Floating hearts */
.heart {
    position: fixed;
    width: 20px;
    height: 20px;
    background-color: #ff1e56;
    transform: rotate(-45deg);
    animation: float 6s linear infinite;
    z-index: 1;
}
.heart:before,
.heart:after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    background-color: #ff1e56;
    border-radius: 50%;
}
.heart:before { top: -10px; left: 0; }
.heart:after { left: 10px; top: 0; }

@keyframes float {
    0% { transform: translateY(0) rotate(-45deg); opacity: 1; }
    100% { transform: translateY(-100vh) rotate(-45deg); opacity: 0; }
}

/* Explosion hearts */
.explosion-heart {
    position: absolute;
    width: 15px;
    height: 15px;
    background-color: #ff1e56;
    transform: rotate(-45deg);
    animation: explode 1s forwards;
    pointer-events: none;
    z-index: 10;
}
.explosion-heart:before,
.explosion-heart:after {
    content: '';
    position: absolute;
    width: 15px;
    height: 15px;
    background-color: #ff1e56;
    border-radius: 50%;
}
.explosion-heart:before { top: -7.5px; left: 0; }
.explosion-heart:after { left: 7.5px; top: 0; }

@keyframes explode {
    0% { transform: translate(0,0) rotate(-45deg); opacity: 1; }
    100% { transform: translate(var(--x), var(--y)) rotate(-45deg); opacity: 0; }
}

/* Valentine message */
#valentineMsg {
    font-family: 'Pacifico', cursive;
    font-size: 2.5em;
    color: #FF69B4;
    margin-top: 5px;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease, transform 1s ease;
    z-index: 10;
    position: relative;
}
#valentineMsg.show {
    opacity: 1;
    transform: translateY(0);
}

/* Valentine GIF */
#valentineGif {
    width: 150px;
    opacity: 0;
    transition: opacity 1s ease, transform 1s ease;
    transform: translateY(30px);
    margin-top: 15px;
    z-index: 10;
    position: relative;
}
#valentineGif.show {
    opacity: 1;
    transform: translateY(0);
}
</style>
</head>
<body>

<h1>Will you be my Valentine?</h1>

<div class="button-container">
    <button id="yesBtn">YES</button>
    <button id="noBtn">NO</button>
</div>

<div id="valentineMsg">Happy Valentine's Day My Soulmate ❤️</div>
<img id="valentineGif" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNmxhOHlmZnd0MjlpMDZtN3Vpcmd2Nzg1MjVyd3BtanNyZjJrZXJubyZlcD12MV9naWZzX3NlYXJjaCZjdD1n/sc54SIQ5QekyhMvat9/giphy.gif" alt="Valentine GIF">

<script>
const noBtn = document.getElementById('noBtn');
const yesBtn = document.getElementById('yesBtn');
const valentineMsg = document.getElementById('valentineMsg');
const valentineGif = document.getElementById('valentineGif');

let noBtnX = noBtn.offsetLeft;
let noBtnY = noBtn.offsetTop;
let moveIndex = 0;
let canMove = true;

// Adjust move distance based on screen size
function getMoveDistance() {
    return Math.min(window.innerWidth, window.innerHeight) * 0.4;
}

// Unified function to handle "NO" button jump
function handleMove(x, y) {
    const rect = noBtn.getBoundingClientRect();
    const centerX = rect.left + rect.width/2;
    const centerY = rect.top + rect.height/2;
    const distance = Math.hypot(x - centerX, y - centerY);

    if(distance < 120 && canMove){
        const moveDistance = getMoveDistance();
        switch(moveIndex % 4){
            case 0: noBtnX += moveDistance; break;
            case 1: noBtnX -= moveDistance; break;
            case 2: noBtnY -= moveDistance; break;
            case 3: noBtnY += moveDistance; break;
        }
        moveIndex++;
        // constrain inside viewport
        noBtnX = Math.max(0, Math.min(window.innerWidth - rect.width, noBtnX));
        noBtnY = Math.max(0, Math.min(window.innerHeight - rect.height, noBtnY));
        noBtn.style.left = noBtnX + 'px';
        noBtn.style.top = noBtnY + 'px';
        canMove = false;
    } else if(distance >= 120){
        canMove = true;
    }
}

// Mouse support
document.addEventListener('mousemove', e => handleMove(e.clientX, e.clientY));
// Touch support
document.addEventListener('touchmove', e => {
    const touch = e.touches[0];
    handleMove(touch.clientX, touch.clientY);
});

// Floating hearts
function createHeart(){
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.style.left = Math.random()*window.innerWidth+'px';
    heart.style.top = window.innerHeight+'px';
    heart.style.animationDuration = 4 + Math.random()*3 + 's';
    heart.style.width = 10 + Math.random()*20 + 'px';
    heart.style.height = heart.style.width;
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),7000);
}
setInterval(createHeart, 300);

// YES button
yesBtn.addEventListener('click', () => {
    const numberOfHearts = 50;
    for(let i=0;i<numberOfHearts;i++){
        const heart = document.createElement('div');
        heart.classList.add('explosion-heart');
        heart.style.left = window.innerWidth/2 + 'px';
        heart.style.top = window.innerHeight/2 + 'px';
        const x = (Math.random()-0.5)*500 + 'px';
        const y = (Math.random()-0.5)*500 + 'px';
        heart.style.setProperty('--x', x);
        heart.style.setProperty('--y', y);
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),1000);
    }
    valentineMsg.classList.add('show');
    valentineGif.classList.add('show');
});
</script>
</body>
</html>
